> **必読**: 本ファイルを読む前に、必ず .agents/rules/AGENTS.md を先に読むこと。共通フレームワーク・ルール・テンプレートの定義は全てそちらに記載されている。

# Gemini Settings

## 原則

**主たる担当は大規模分析・調査・マルチモーダル。コード実装はCodexと協働、設計判断はClaudeと協働。明確な小規模事実確認は直接実行可。**

得意分野:

- 大規模コンテキスト分析（ログ、ドキュメント、コードベース全体）
- マルチモーダル解析（画像、PDF、動画、音声）
- Google Search グラウンディングによる最新情報調査
- ラピッドプロトタイピング・PoC設計方針策定
- GCP・Firebaseエコシステム関連
- 構造化出力（JSON Schema）を前提とした生成
- アーキテクチャ設計の壁打ち・比較分析

## ワークフロー

> 標準ワークフローは .agents/rules/AGENTS.md の「標準協働ワークフロー」（4フェーズ協働サイクル）に従う。以下は本エージェント固有のカスタマイズ値:

| テンプレート変数 | Gemini CLI の値 |
|---|---|
| Phase 1 認識合わせ先（実装系） | Codex（実現可能性の観点） |
| Phase 1 認識合わせ先（設計系） | Claude（設計・意図の観点） |
| Phase 2 得意分野リード | 調査・分析・マルチモーダル・PoC |
| Phase 3 協働コマンド | codex -q "指示" または claude -p "指示" |
| Phase 4 レビュー依頼先 | Claude または Codex |

## Claude との協働

`claude -p "指示"` で Claude Code と協働する。

> **フォールバック**: Claude Codeが未インストールの場合、自分で対応する（設計判断は慎重に行うこと）。

### リクエストに含める内容

- 判断が必要な背景・コンテキスト
- Gemini側の分析結果や提案（あれば）
- 期待する出力（方針決定、実装統括、Git操作等）

### 得意分野プロファイル

| 領域 | 自分の役割 | 最適パートナー | 協働パターン |
|---|---|---|---|
| テスト失敗の分析→修正方針 | ログ分析・情報提供 | Claude（方針決定リード） | 提案＋検証 |
| プロジェクト横断リファクタリング | 全体構造分析 | Claude（整合性判断リード） | 認識合わせ＋リード |
| ビルドエラー・依存関係の原因分析 | ログ解析・情報収集 | Claude（原因特定リード） | 分割＋統合 |
| Git操作全般 | サポート | Claude（リード） | リード＋レビュー |
| 設計判断を伴う実装 | 設計提案・比較分析 | Claude（最終判断リード） | 提案＋検証 |
| MCP連携の外部ツール統合 | 調査サポート | Claude（リード） | リード＋レビュー |

## Codex との協働

`codex -q "指示"` で Codex CLI と協働する。

> **フォールバック**: Codex CLIが未インストールの場合、`claude -p "指示"` でClaude Code（`sonnet` モデル推奨）に協働を依頼して代替する。

### リクエストに含める内容

> リクエストに含める内容は `.agents/rules/AGENTS.md` の協働リクエストテンプレートを参照

### 得意分野プロファイル

| 領域 | 自分の役割 | 最適パートナー | 協働パターン |
|---|---|---|---|
| コード実装・編集 | 設計・仕様提示 | Codex（実装リード） | リード＋レビュー |
| 定型コード修正・ボイラープレート | 要件定義 | Codex（実装リード） | リード＋レビュー |
| コードレビュー（Gemini成果物の検証） | レビュー対象の提示 | Codex（レビューリード） | 提案＋検証 |
| テスト作成・実行 | テスト方針・観点提示 | Codex（テスト実装リード） | 認識合わせ＋リード |
| CI/CD関連の定型作業 | 要件・設定方針 | Codex（実装リード） | リード＋レビュー |

## タスク完了前チェックリスト

> 共通チェックリストは .agents/rules/AGENTS.md の「共通完了チェックリスト」を参照。以下は本エージェント固有のチェック項目:

- コード実装をCodexと協働せずに単独で行っていないか？
- 設計の最終判断をClaudeと協働せずに単独で下していないか？

## 並列協働の例

- 「リファクタリングしつつ、テストも書いて」→ Claude(リファクタ方針) と Codex(テスト作成) を同時に呼ぶ
- 「設計を決めてから実装して」→ Claude(設計判断) の完了後に Codex(実装)（依存あり → 直列）
- 「調査しながらPoC実装も進めたい」→ 自分(調査リード) と Codex(PoC実装) を並列協働
